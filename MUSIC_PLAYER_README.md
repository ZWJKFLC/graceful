# Graceful 主题音乐播放器功能

## 概述

此功能为 Graceful Discourse 主题添加了一个可配置的音乐播放器，默认使用网易云音乐播放器。

## 功能特性

- 可通过主题设置启用/禁用音乐播放器
- 可自定义音乐播放器的 URL、宽度和高度
- 响应式设计，在移动设备上自动调整大小
- 固定在页面右下角，不会干扰用户浏览
- 美观的阴影和圆角设计

## 配置选项

在 Discourse 管理面板的主题设置中，您可以配置以下选项：

1. **music_player_enabled** (布尔值)
   - 默认值: `true`
   - 描述: 启用或禁用首页上的音乐播放器

2. **music_player_url** (字符串)
   - 默认值: `//music.163.com/outchain/player?type=0&id=5424464870&auto=1&height=90`
   - 描述: 音乐播放器 URL (网易云音乐)

3. **music_player_width** (整数)
   - 默认值: `330`
   - 描述: 音乐播放器的宽度

4. **music_player_height** (整数)
   - 默认值: `110`
   - 描述: 音乐播放器的高度

## 使用方法

1. 在 Discourse 管理面板中，进入"自定义" > "主题"
2. 找到 Graceful 主题并点击"自定义"
3. 在"设置"选项卡中，您可以调整音乐播放器的配置
4. 保存设置后，音乐播放器将显示在网站右下角

## 自定义音乐

要更改播放的音乐，您需要修改 `music_player_url` 设置。网易云音乐的播放器 URL 格式为：

```
//music.163.com/outchain/player?type=0&id=[歌曲ID]&auto=1&height=90
```

其中 `[歌曲ID]` 是您想要播放的歌曲的 ID。

## 技术实现

此功能通过以下文件实现：

1. `common/header.html` - 包含音乐播放器的 HTML 结构
2. `common/common.scss` - 包含音乐播放器的样式
3. `settings.yml` - 定义可配置的设置选项

## 测试

您可以使用 `test_music_player.html` 文件来测试音乐播放器的显示效果。在浏览器中打开此文件，您应该能看到音乐播放器固定在页面右下角。

## 注意事项

- 音乐播放器使用 iframe 嵌入，请确保您的网站允许跨域嵌入
- 在移动设备上，播放器会自动缩小以适应屏幕
- 如果音乐播放器不显示，请检查是否启用了相关设置